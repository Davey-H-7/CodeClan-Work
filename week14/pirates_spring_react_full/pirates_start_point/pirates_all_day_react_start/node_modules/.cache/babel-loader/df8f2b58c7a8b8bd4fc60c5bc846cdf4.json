{"ast":null,"code":"import _slicedToArray from \"/Users/codeclanstudent/Desktop/G38/codeclan_work/week14/pirates_spring_react_full/pirates_start_point/pirates_all_day_react_start/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/codeclanstudent/Desktop/G38/codeclan_work/week14/pirates_spring_react_full/pirates_start_point/pirates_all_day_react_start/src/containers/RaidContainer.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Route, Routes, useParams } from 'react-router-dom';\nimport RaidList from '../components/raids/RaidList';\nimport RaidDetail from '../components/raids/RaidDetail';\n\nvar RaidContainer = function RaidContainer() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      raids = _useState2[0],\n      setRaids = _useState2[1];\n\n  useEffect(function () {\n    // TODO update to use API request\n    var piratePromise = fetch(\"/api/pirates\").then(function (res) {\n      return res.json();\n    });\n    var shipPromise = fetch(\"/api/ships\").then(function (res) {\n      return res.json();\n    });\n    var raidPromise = fetch(\"/api/raids\").then(function (res) {\n      return res.json();\n    });\n    Promise.all([piratePromise, shipPromise, raidPromise]).then(function (data) {\n      setRaids(data[2]);\n    });\n  }, []);\n\n  var findRaidById = function findRaidById(id) {\n    return raids.find(function (raid) {\n      return raid.id === parseInt(id);\n    });\n  };\n\n  var RaidDetailWrapper = function RaidDetailWrapper() {\n    var _useParams = useParams(),\n        id = _useParams.id;\n\n    var foundRaid = findRaidById(id);\n    return React.createElement(RaidDetail, {\n      raid: foundRaid,\n      handleDelete: handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    });\n  };\n\n  var handleDelete = function handleDelete(id) {\n    // TODO: use API to delete by ID\n    window.location = '/raids';\n  };\n\n  var handlePost = function handlePost(raid) {\n    fetch(\"/api/raids\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(raid)\n    });\n    window.location = '/raids';\n  };\n\n  return React.createElement(Routes, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/:id\",\n    element: React.createElement(RaidDetailWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/\",\n    element: React.createElement(RaidList, {\n      raids: raids,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }));\n};\n\nexport default RaidContainer;","map":{"version":3,"sources":["/Users/codeclanstudent/Desktop/G38/codeclan_work/week14/pirates_spring_react_full/pirates_start_point/pirates_all_day_react_start/src/containers/RaidContainer.js"],"names":["React","useEffect","useState","Route","Routes","useParams","RaidList","RaidDetail","RaidContainer","raids","setRaids","piratePromise","fetch","then","res","json","shipPromise","raidPromise","Promise","all","data","findRaidById","id","find","raid","parseInt","RaidDetailWrapper","foundRaid","handleDelete","window","location","handlePost","method","headers","body","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Route, Routes, useParams } from 'react-router-dom';\nimport RaidList from '../components/raids/RaidList';\nimport RaidDetail from '../components/raids/RaidDetail';\n\n\n\nconst RaidContainer = () => {\n\n  const [raids, setRaids] = useState([])\n\n  useEffect(() => {\n    // TODO update to use API request\n    const piratePromise = fetch(\"/api/pirates\").then(res=>res.json());\n    const shipPromise = fetch(\"/api/ships\").then(res=>res.json());\n    const raidPromise = fetch(\"/api/raids\").then(res=>res.json());\n\n    Promise.all([piratePromise, shipPromise, raidPromise])\n      .then((data) => {\n \n        setRaids(data[2])\n      })\n  }, [])\n\n  const findRaidById = (id) => {\n    return raids.find((raid) => {\n      return raid.id === parseInt(id);\n    })\n  }\n\n  const RaidDetailWrapper = () => {\n    const { id } = useParams();\n    let foundRaid = findRaidById(id)\n    return <RaidDetail raid={foundRaid} handleDelete={handleDelete} />;\n  };\n\n  const handleDelete = (id) => {\n    // TODO: use API to delete by ID\n    window.location = '/raids';\n  }\n\n  const handlePost = (raid) => {\n    fetch(\"/api/raids\",{\n    method: \"POST\",\n    headers: {\"Content-Type\": \"application/json\"},\n    body: JSON.stringify(raid)\n  })\n    window.location = '/raids'\n  };\n\n  return (\n    <Routes>\n      <Route path=\"/:id\" element={\n        <RaidDetailWrapper />} />\n      <Route path=\"/\" element={<RaidList raids={raids} />} />\n    </Routes>\n  )\n\n}\n\nexport default RaidContainer;\n"]},"metadata":{},"sourceType":"module"}