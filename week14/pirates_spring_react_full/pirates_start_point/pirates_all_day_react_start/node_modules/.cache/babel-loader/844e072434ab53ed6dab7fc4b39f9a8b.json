{"ast":null,"code":"var _jsxFileName = \"/Users/codeclanstudent/Desktop/G38/codeclan_work/week14/pirates_spring_react_full/pirates_start_point/pirates_all_day_react_start/src/containers/PirateContainer.js\";\nimport React from 'react';\nimport { Route, Routes, useParams } from 'react-router-dom';\nimport PirateList from '../components/pirates/PirateList';\nimport PirateDetail from '../components/pirates/PirateDetail';\nimport PirateForm from '../components/pirates/PirateForm';\nimport PirateFormEdit from '../components/pirates/PirateFormEdit';\n\nvar PirateContainer = function PirateContainer(_ref) {\n  var pirates = _ref.pirates,\n      ships = _ref.ships;\n\n  var findPirateById = function findPirateById(id) {\n    return pirates.find(function (pirate) {\n      return pirate.id === parseInt(id);\n    });\n  };\n\n  var PirateDetailWrapper = function PirateDetailWrapper() {\n    var _useParams = useParams(),\n        id = _useParams.id;\n\n    var foundPirate = findPirateById(id);\n    return React.createElement(PirateDetail, {\n      pirate: foundPirate,\n      handleDelete: handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    });\n  };\n\n  var handleDelete = function handleDelete(id) {\n    fetch(\"api/pirates/\" + id, {\n      method: \"DELETE\"\n    });\n    window.location = '/pirates';\n  };\n\n  var handlePost = function handlePost(pirate) {\n    console.log(\"handlePost triggered\", pirate.ship);\n    fetch(\"/api/pirates\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(pirate)\n    });\n    window.location = '/pirates';\n  };\n\n  var handleUpdate = function handleUpdate(pirate) {\n    console.log(\"handlePost triggered\", pirate.ship);\n    fetch(\"/api/pirates/\" + pirate.id, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(pirate)\n    }).then(function () {\n      return navigate(\"/pirates\");\n    });\n  };\n\n  var PirateFormEditWrapper = function PirateFormEditWrapper() {\n    var _useParams2 = useParams(),\n        id = _useParams2.id;\n\n    var foundPirate = findPirateById(id);\n    return React.createElement(PirateFormEdit, {\n      ships: ships,\n      pirate: foundPirate,\n      onEdit: handleUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  };\n\n  return React.createElement(Routes, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/new\",\n    element: React.createElement(PirateForm, {\n      ships: ships,\n      onCreate: handlePost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/:id\",\n    element: React.createElement(PirateDetailWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/\",\n    element: React.createElement(PirateList, {\n      pirates: pirates,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/:id/edit\",\n    element: React.createElement(PirateFormEditWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }));\n};\n\nexport default PirateContainer;","map":{"version":3,"sources":["/Users/codeclanstudent/Desktop/G38/codeclan_work/week14/pirates_spring_react_full/pirates_start_point/pirates_all_day_react_start/src/containers/PirateContainer.js"],"names":["React","Route","Routes","useParams","PirateList","PirateDetail","PirateForm","PirateFormEdit","PirateContainer","pirates","ships","findPirateById","id","find","pirate","parseInt","PirateDetailWrapper","foundPirate","handleDelete","fetch","method","window","location","handlePost","console","log","ship","headers","body","JSON","stringify","handleUpdate","then","navigate","PirateFormEditWrapper"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Route, Routes, useParams } from 'react-router-dom';\nimport PirateList from '../components/pirates/PirateList';\nimport PirateDetail from '../components/pirates/PirateDetail';\nimport PirateForm from '../components/pirates/PirateForm';\nimport PirateFormEdit from '../components/pirates/PirateFormEdit';\n\n\nconst PirateContainer = ({pirates, ships}) => {\n\n  const findPirateById = (id) => {\n    return pirates.find((pirate) => {\n      return pirate.id === parseInt(id);\n    })\n  }\n\n  const PirateDetailWrapper = () => {\n    const { id } = useParams();\n    let foundPirate = findPirateById(id)\n    return <PirateDetail pirate={foundPirate} handleDelete={handleDelete} />;\n  };\n\n  const handleDelete = (id) => {\n    fetch(\"api/pirates/\" + id,{\n    method: \"DELETE\"\n  })\n    window.location = '/pirates';\n  }\n\n  const handlePost = (pirate) => {\n    console.log(\"handlePost triggered\", pirate.ship);\n    fetch(\"/api/pirates\",{\n    method: \"POST\",\n    headers: {\"Content-Type\": \"application/json\"},\n    body: JSON.stringify(pirate)\n  })\n    window.location = '/pirates'\n  };\n\n  const handleUpdate = (pirate) => {\n    console.log(\"handlePost triggered\", pirate.ship);\n    fetch(\"/api/pirates/\" + pirate.id,{\n    method: \"PUT\",\n    headers: {\"Content-Type\": \"application/json\"},\n    body: JSON.stringify(pirate)\n  })\n    .then(()=> navigate(\"/pirates\"))\n  }\n\n  const PirateFormEditWrapper = () =>{\n    const {id} = useParams();\n    let foundPirate = findPirateById(id);\n    return <PirateFormEdit ships ={ships} pirate = {foundPirate} onEdit={handleUpdate}/>\n  }\n\n  return (\n    <Routes>\n      <Route path=\"/new\" element={\n        <PirateForm ships={ships} onCreate={handlePost} />\n      } />\n      <Route path=\"/:id\" element={\n        <PirateDetailWrapper />\n      } />\n      <Route path=\"/\" element={<PirateList pirates={pirates} />} />\n\n      <Route path =\"/:id/edit\" element ={<PirateFormEditWrapper/>}/>\n    </Routes>\n  )\n\n}\n\nexport default PirateContainer;\n"]},"metadata":{},"sourceType":"module"}